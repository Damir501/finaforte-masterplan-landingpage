<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Schenken vs. Erven Calculator | Finaforte</title>
  <meta name="description" content="Bereken gratis hoeveel je bespaart aan erfbelasting door slim te schenken. Vergelijk jaarlijks schenken met nalaten bij overlijden.">
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: system-ui, -apple-system, sans-serif; background: #fafafa; min-height: 100vh; }
    .container { max-width: 900px; margin: 0 auto; padding: 24px; }
    .header {
      background: linear-gradient(135deg, #1AABA6 0%, #158783 100%);
      border-radius: 16px;
      padding: 32px;
      margin-bottom: 24px;
      color: white;
    }
    .header-tag { font-size: 12px; text-transform: uppercase; letter-spacing: 1px; opacity: 0.9; margin-bottom: 8px; }
    .header h1 { font-size: 28px; font-weight: 700; margin-bottom: 8px; }
    .header p { font-size: 16px; opacity: 0.9; }
    .card {
      background: white;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    }
    .card-title { font-size: 18px; font-weight: 600; margin-bottom: 16px; color: #333; }
    .input-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
    .input-group { margin-bottom: 16px; }
    .input-label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; font-size: 14px; }
    .input-row { display: flex; align-items: center; gap: 16px; }
    .slider { flex: 1; accent-color: #1AABA6; height: 8px; }
    .value-display {
      background: #f0faf9;
      border: 2px solid #1AABA6;
      border-radius: 8px;
      padding: 10px 16px;
      font-weight: 700;
      font-size: 16px;
      color: #1AABA6;
      min-width: 120px;
      text-align: center;
    }
    .input-hint { font-size: 12px; color: #666; margin-top: 6px; }
    .checkbox-group { display: flex; align-items: center; gap: 12px; margin-top: 8px; padding: 12px; background: #f9f9f9; border-radius: 8px; }
    .checkbox-group input[type="checkbox"] { width: 20px; height: 20px; accent-color: #1AABA6; cursor: pointer; }
    .checkbox-label { font-size: 14px; color: #333; cursor: pointer; }
    .checkbox-hint { font-size: 12px; color: #666; margin-left: 32px; margin-top: 4px; }
    .btn {
      width: 100%;
      padding: 16px;
      background: #1AABA6;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }
    .btn:hover { background: #158783; }
    .btn:disabled { background: #ccc; cursor: not-allowed; }
    .result-header {
      background: linear-gradient(135deg, #1AABA6 0%, #158783 100%);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      color: white;
      text-align: center;
    }
    .result-tag { font-size: 12px; text-transform: uppercase; letter-spacing: 1px; opacity: 0.8; margin-bottom: 8px; }
    .result-title { font-size: 20px; font-weight: 700; margin-bottom: 8px; }
    .besparing { font-size: 48px; font-weight: 700; margin-bottom: 8px; }
    .besparing-label { font-size: 14px; opacity: 0.9; }
    .comparison-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 24px; }
    .comparison-card {
      background: white;
      border-radius: 12px;
      padding: 24px;
      border: 2px solid #e5e5e5;
    }
    .comparison-card.best { border-color: #1AABA6; background: #f0faf9; }
    .comparison-card.best .card-badge { display: block; }
    .card-badge { display: none; background: #1AABA6; color: white; font-size: 11px; padding: 4px 8px; border-radius: 4px; margin-bottom: 8px; width: fit-content; }
    .card-name { font-size: 18px; font-weight: 600; color: #333; margin-bottom: 16px; }
    .result-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #f0f0f0; }
    .result-row:last-child { border: none; }
    .result-label { color: #666; font-size: 14px; }
    .result-value { font-weight: 600; font-size: 14px; }
    .result-value.highlight { color: #1AABA6; font-size: 18px; }
    .result-value.negative { color: #c53030; }
    .timeline-card { background: white; border-radius: 12px; padding: 24px; margin-bottom: 24px; }
    .timeline-item { display: flex; gap: 16px; padding: 12px 0; border-bottom: 1px solid #f0f0f0; }
    .timeline-item:last-child { border: none; }
    .timeline-year { font-weight: 600; color: #1AABA6; min-width: 80px; }
    .timeline-desc { flex: 1; color: #666; }
    .timeline-amount { font-weight: 600; color: #333; }
    .tips-box {
      background: #f0faf9;
      border-left: 4px solid #1AABA6;
      padding: 16px;
      margin: 16px 0;
      border-radius: 0 8px 8px 0;
    }
    .tips-title { font-weight: 600; color: #1AABA6; margin-bottom: 8px; }
    .tips-list { font-size: 14px; color: #333; padding-left: 16px; }
    .tips-list li { margin-bottom: 6px; }
    .cta-card { text-align: center; border: 2px solid #1AABA6; }
    .cta-icon { font-size: 32px; margin-bottom: 8px; }
    .cta-title { font-size: 20px; color: #333; margin-bottom: 8px; }
    .cta-text { color: #666; margin-bottom: 20px; }
    .form-input { width: 100%; padding: 14px; border: 2px solid #e5e5e5; border-radius: 8px; font-size: 16px; margin-bottom: 12px; }
    .form-input:focus { outline: none; border-color: #1AABA6; }
    .form-hint { font-size: 12px; color: #999; margin-top: 12px; text-align: center; }
    .success-card { background: #f0faf9; text-align: center; border: 2px solid #1AABA6; }
    .success-icon { font-size: 48px; margin-bottom: 16px; }
    .success-title { font-size: 20px; color: #1AABA6; margin-bottom: 8px; }
    .disclaimer { font-size: 11px; color: #999; text-align: center; margin-top: 24px; line-height: 1.5; }
    .error-msg { color: #c53030; font-size: 14px; margin-bottom: 12px; }
    .loading { display: inline-block; width: 20px; height: 20px; border: 2px solid #fff; border-radius: 50%; border-top-color: transparent; animation: spin 1s linear infinite; margin-right: 8px; vertical-align: middle; }
    @keyframes spin { to { transform: rotate(360deg); } }
    .eenmalig-badge { background: #fff3cd; color: #856404; font-size: 11px; padding: 2px 6px; border-radius: 4px; margin-left: 8px; }
    @media (max-width: 700px) {
      .comparison-grid { grid-template-columns: 1fr; }
      .input-row { flex-direction: column; align-items: stretch; }
      .value-display { min-width: auto; }
      .besparing { font-size: 36px; }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
        
    // ============================================
    // FINAFORTE LEAD CAPTURE CONFIGURATIE
    // ============================================
    const LEAD_CONFIG = {
      emailTo: 'd.tvrtkovic@finaforte.nl',
      calculatorName: 'Schenken vs Erven'
    };
    // ============================================
// ============================================

    // Schenk- en erfbelasting parameters 2026
    const PARAMS = {
      // Schenkingsvrijstellingen
      vrijstellingKind: 6633,
      vrijstellingOverig: 2658,
      eenmaligVerhoogdKind: 31813,  // Kind 18-40 jaar
      
      // Erfbelasting vrijstellingen
      erfVrijstellingKind: 25187,
      erfVrijstellingPartner: 795156,
      erfVrijstellingOverig: 2658,
      
      // Tarieven (kind/partner)
      tariefSchijf1: 0.10,
      tariefSchijf2: 0.20,
      grensSchijf1: 154197,
    };

    const formatCurrency = (amount) => new Intl.NumberFormat('nl-NL', { style: 'currency', currency: 'EUR', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(amount);

    // Belastingberekening met progressief tarief
    const berekenBelasting = (bedrag, vrijstelling) => {
      const belastbaar = Math.max(0, bedrag - vrijstelling);
      if (belastbaar <= 0) return 0;
      if (belastbaar <= PARAMS.grensSchijf1) return belastbaar * PARAMS.tariefSchijf1;
      return PARAMS.grensSchijf1 * PARAMS.tariefSchijf1 + (belastbaar - PARAMS.grensSchijf1) * PARAMS.tariefSchijf2;
    };

    // UTM parameters ophalen
    const getUTMParams = () => {
      const params = new URLSearchParams(window.location.search);
      return {
        utm_source: params.get('utm_source') || '',
        utm_medium: params.get('utm_medium') || '',
        utm_campaign: params.get('utm_campaign') || '',
        utm_content: params.get('utm_content') || '',
        utm_term: params.get('utm_term') || '',
      };
    };

    function App() {
      // Invoer states
      const [vermogen, setVermogen] = React.useState(500000);
      const [aantalKinderen, setAantalKinderen] = React.useState(2);
      const [schenkingPerKind, setSchenkingPerKind] = React.useState(6633);
      const [jarenSchenken, setJarenSchenken] = React.useState(10);
      const [gebruikEenmalig, setGebruikEenmalig] = React.useState(false);
      
      // UI states
      const [showResults, setShowResults] = React.useState(false);
      const [showLeadForm, setShowLeadForm] = React.useState(false);
      const [email, setEmail] = React.useState('');
      const [naam, setNaam] = React.useState('');
      const [submitted, setSubmitted] = React.useState(false);
      const [loading, setLoading] = React.useState(false);
      const [error, setError] = React.useState('');

      // Berekeningslogica
      const results = React.useMemo(() => {
        // === SCENARIO 1: JAARLIJKS SCHENKEN ===
        
        // Eenmalige verhoogde schenking (jaar 1)
        const eenmaligTotaal = gebruikEenmalig ? PARAMS.eenmaligVerhoogdKind * aantalKinderen : 0;
        const eenmaligBelasting = gebruikEenmalig 
          ? aantalKinderen * berekenBelasting(PARAMS.eenmaligVerhoogdKind, PARAMS.eenmaligVerhoogdKind) // Vrijgesteld!
          : 0;
        
        // Jaarlijkse schenkingen
        const jaarlijkseSchenking = schenkingPerKind * aantalKinderen;
        const totaalJaarlijks = jaarlijkseSchenking * jarenSchenken;
        const schenkBelastingPerJaar = aantalKinderen * berekenBelasting(schenkingPerKind, PARAMS.vrijstellingKind);
        const totaalSchenkbelastingJaarlijks = schenkBelastingPerJaar * jarenSchenken;
        
        // Totaal geschonken en belasting
        const totaalGeschonken = eenmaligTotaal + totaalJaarlijks;
        const totaalSchenkbelasting = eenmaligBelasting + totaalSchenkbelastingJaarlijks;
        
        // Resterend vermogen en erfbelasting daarover
        const resterendVermogen = Math.max(0, vermogen - totaalGeschonken);
        const erfPerKind = resterendVermogen / aantalKinderen;
        const erfBelastingNaSchenken = aantalKinderen * berekenBelasting(erfPerKind, PARAMS.erfVrijstellingKind);
        
        // Totaal belasting scenario 1
        const totaalBelastingSchenken = totaalSchenkbelasting + erfBelastingNaSchenken;
        const nettoKinderenSchenken = vermogen - totaalBelastingSchenken;

        // === SCENARIO 2: ALLES ERVEN ===
        const erfdeelPerKind = vermogen / aantalKinderen;
        const erfbelastingPerKind = berekenBelasting(erfdeelPerKind, PARAMS.erfVrijstellingKind);
        const totaalErfbelasting = erfbelastingPerKind * aantalKinderen;
        const nettoKinderenErven = vermogen - totaalErfbelasting;

        // === BESPARING ===
        const besparing = Math.max(0, totaalErfbelasting - totaalBelastingSchenken);

        return {
          // Schenken scenario
          eenmaligTotaal,
          eenmaligBelasting,
          totaalGeschonken,
          totaalSchenkbelasting,
          resterendVermogen,
          erfBelastingNaSchenken,
          totaalBelastingSchenken,
          nettoKinderenSchenken,
          jaarlijkseSchenking,
          
          // Erven scenario
          erfdeelPerKind,
          totaalErfbelasting,
          nettoKinderenErven,
          
          // Vergelijking
          besparing,
        };
      }, [vermogen, aantalKinderen, schenkingPerKind, jarenSchenken, gebruikEenmalig]);

      // FormSubmit handler
      const handleSubmit = async (e) => {
        e.preventDefault();
        setError('');
        setLoading(true);

        const utmParams = getUTMParams();

        // Create FormData for FormSubmit.co
        const formData = new FormData();

        // Lead gegevens
        formData.append('email', email);
        formData.append('naam', naam);
        formData.append('timestamp', new Date().toISOString());

        // Calculator invoer
        formData.append('vermogen', vermogen);
        formData.append('aantal_kinderen', aantalKinderen);
        formData.append('schenking_per_kind', schenkingPerKind);
        formData.append('jaren_schenken', jarenSchenken);
        formData.append('gebruik_eenmalige_vrijstelling', gebruikEenmalig ? 'ja' : 'nee');

        // Resultaten scenario 1 (schenken)
        formData.append('totaal_geschonken', Math.round(results.totaalGeschonken));
        formData.append('totaal_schenkbelasting', Math.round(results.totaalSchenkbelasting));
        formData.append('resterend_vermogen', Math.round(results.resterendVermogen));
        formData.append('erfbelasting_na_schenken', Math.round(results.erfBelastingNaSchenken));
        formData.append('totaal_belasting_schenken', Math.round(results.totaalBelastingSchenken));
        formData.append('netto_kinderen_schenken', Math.round(results.nettoKinderenSchenken));

        // Resultaten scenario 2 (erven)
        formData.append('totaal_erfbelasting', Math.round(results.totaalErfbelasting));
        formData.append('netto_kinderen_erven', Math.round(results.nettoKinderenErven));

        // Besparing
        formData.append('besparing', Math.round(results.besparing));

        // UTM tracking
        Object.entries(utmParams).forEach(([key, value]) => {
          if (value) formData.append(key, value);
        });

        // Extra context
        formData.append('bron', 'Schenken vs Erven Calculator');
        formData.append('pagina_url', window.location.href);
        formData.append('calculator_name', LEAD_CONFIG.calculatorName);

        try {
          const response = await fetch(`https://formsubmit.co/ajax/${LEAD_CONFIG.emailTo}`, {
            method: 'POST',
            body: formData,
          });

          if (response.ok) {
            setSubmitted(true);
            setLoading(false);
          } else {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
        } catch (err) {
          console.error('FormSubmit error:', err);
          setError('Er ging iets mis. Probeer het opnieuw.');
          setLoading(false);
        }
      };

      const resetForm = () => {
        setShowResults(false);
        setShowLeadForm(false);
        setSubmitted(false);
        setEmail('');
        setNaam('');
        setError('');
      };

      return (
        <div className="container">
          <div className="header">
            <div className="header-tag">Gratis Calculator 2026</div>
            <h1>Schenken vs. Erven Calculator</h1>
            <p>Bereken hoeveel je bespaart aan erfbelasting door slim te schenken</p>
          </div>

          <div className="card">
            <h3 className="card-title">Jouw Situatie</h3>
            <div className="input-grid">
              <div className="input-group">
                <label className="input-label">Te schenken/na te laten vermogen</label>
                <div className="input-row">
                  <input type="range" className="slider" min="100000" max="2000000" step="25000" value={vermogen} onChange={(e) => { setVermogen(Number(e.target.value)); setShowResults(false); }} />
                  <div className="value-display">{formatCurrency(vermogen)}</div>
                </div>
              </div>
              <div className="input-group">
                <label className="input-label">Aantal kinderen</label>
                <div className="input-row">
                  <input type="range" className="slider" min="1" max="5" step="1" value={aantalKinderen} onChange={(e) => { setAantalKinderen(Number(e.target.value)); setShowResults(false); }} />
                  <div className="value-display">{aantalKinderen}</div>
                </div>
              </div>
              <div className="input-group">
                <label className="input-label">Jaarlijkse schenking per kind</label>
                <div className="input-row">
                  <input type="range" className="slider" min="1000" max="30000" step="500" value={schenkingPerKind} onChange={(e) => { setSchenkingPerKind(Number(e.target.value)); setShowResults(false); }} />
                  <div className="value-display">{formatCurrency(schenkingPerKind)}</div>
                </div>
                <p className="input-hint">Vrijstelling 2026: {formatCurrency(PARAMS.vrijstellingKind)} per kind per jaar</p>
              </div>
              <div className="input-group">
                <label className="input-label">Aantal jaren schenken</label>
                <div className="input-row">
                  <input type="range" className="slider" min="5" max="25" step="1" value={jarenSchenken} onChange={(e) => { setJarenSchenken(Number(e.target.value)); setShowResults(false); }} />
                  <div className="value-display">{jarenSchenken} jaar</div>
                </div>
              </div>
            </div>
            
            <div className="input-group" style={{marginTop: '8px'}}>
              <div className="checkbox-group">
                <input 
                  type="checkbox" 
                  id="eenmalig" 
                  checked={gebruikEenmalig} 
                  onChange={(e) => { setGebruikEenmalig(e.target.checked); setShowResults(false); }} 
                />
                <label className="checkbox-label" htmlFor="eenmalig">
                  Eenmalige verhoogde vrijstelling benutten
                  <span className="eenmalig-badge">Ã‰Ã©nmalig</span>
                </label>
              </div>
              <p className="checkbox-hint">
                {formatCurrency(PARAMS.eenmaligVerhoogdKind)} per kind (leeftijd 18-40) â€¢ Vrij besteedbaar
              </p>
            </div>
            
            <button className="btn" style={{marginTop: '16px'}} onClick={() => setShowResults(true)}>Bereken besparing â†’</button>
          </div>

          {showResults && (
            <>
              <div className="result-header">
                <div className="result-tag">PotentiÃ«le besparing</div>
                <div className="besparing">{formatCurrency(results.besparing)}</div>
                <div className="besparing-label">minder belasting door te schenken in plaats van erven</div>
              </div>

              <div className="comparison-grid">
                <div className={`comparison-card ${results.besparing > 0 ? 'best' : ''}`}>
                  <span className="card-badge">â˜… Aanbevolen</span>
                  <div className="card-name">Jaarlijks schenken</div>
                  
                  {gebruikEenmalig && (
                    <div className="result-row">
                      <span className="result-label">Eenmalige schenking ({aantalKinderen}Ã—)</span>
                      <span className="result-value">{formatCurrency(results.eenmaligTotaal)}</span>
                    </div>
                  )}
                  <div className="result-row">
                    <span className="result-label">Jaarlijks geschonken ({jarenSchenken} jaar)</span>
                    <span className="result-value">{formatCurrency(results.totaalGeschonken - results.eenmaligTotaal)}</span>
                  </div>
                  <div className="result-row">
                    <span className="result-label">Totaal geschonken</span>
                    <span className="result-value">{formatCurrency(results.totaalGeschonken)}</span>
                  </div>
                  <div className="result-row">
                    <span className="result-label">Schenkbelasting totaal</span>
                    <span className="result-value negative">{results.totaalSchenkbelasting > 0 ? `-${formatCurrency(results.totaalSchenkbelasting)}` : 'â‚¬ 0'}</span>
                  </div>
                  <div className="result-row">
                    <span className="result-label">Resterend voor erfenis</span>
                    <span className="result-value">{formatCurrency(results.resterendVermogen)}</span>
                  </div>
                  <div className="result-row">
                    <span className="result-label">Erfbelasting restant</span>
                    <span className="result-value negative">{results.erfBelastingNaSchenken > 0 ? `-${formatCurrency(results.erfBelastingNaSchenken)}` : 'â‚¬ 0'}</span>
                  </div>
                  <div className="result-row" style={{background: '#f0faf9', margin: '8px -24px -24px', padding: '12px 24px', borderRadius: '0 0 10px 10px'}}>
                    <span className="result-label" style={{fontWeight: '600'}}>Totaal naar kinderen</span>
                    <span className="result-value highlight">{formatCurrency(results.nettoKinderenSchenken)}</span>
                  </div>
                </div>

                <div className={`comparison-card ${results.besparing <= 0 ? 'best' : ''}`}>
                  {results.besparing <= 0 && <span className="card-badge">â˜… Gelijkwaardig</span>}
                  <div className="card-name">Alles erven</div>
                  <div className="result-row">
                    <span className="result-label">Nalatenschap</span>
                    <span className="result-value">{formatCurrency(vermogen)}</span>
                  </div>
                  <div className="result-row">
                    <span className="result-label">Per kind ({aantalKinderen}Ã—)</span>
                    <span className="result-value">{formatCurrency(results.erfdeelPerKind)}</span>
                  </div>
                  <div className="result-row">
                    <span className="result-label">Vrijstelling per kind</span>
                    <span className="result-value">-{formatCurrency(PARAMS.erfVrijstellingKind)}</span>
                  </div>
                  <div className="result-row">
                    <span className="result-label">Erfbelasting totaal</span>
                    <span className="result-value negative">-{formatCurrency(results.totaalErfbelasting)}</span>
                  </div>
                  <div className="result-row" style={{margin: '8px -24px -24px', padding: '12px 24px', borderRadius: '0 0 10px 10px', background: '#f5f5f5'}}>
                    <span className="result-label" style={{fontWeight: '600'}}>Totaal naar kinderen</span>
                    <span className="result-value" style={{fontSize: '18px'}}>{formatCurrency(results.nettoKinderenErven)}</span>
                  </div>
                </div>
              </div>

              <div className="timeline-card">
                <h3 className="card-title">ðŸ“… Schenkingsschema</h3>
                {gebruikEenmalig && (
                  <div className="timeline-item" style={{background: '#fff3cd', margin: '-24px -24px 0', padding: '12px 24px'}}>
                    <span className="timeline-year">Jaar 1</span>
                    <span className="timeline-desc">Eenmalige verhoogde schenking ({aantalKinderen}Ã—)</span>
                    <span className="timeline-amount" style={{color: '#856404'}}>{formatCurrency(results.eenmaligTotaal)}</span>
                  </div>
                )}
                {[1, 2, 3].map(jaar => (
                  <div className="timeline-item" key={jaar}>
                    <span className="timeline-year">Jaar {gebruikEenmalig ? jaar : jaar}</span>
                    <span className="timeline-desc">Jaarlijkse schenking ({aantalKinderen} kind{aantalKinderen > 1 ? 'eren' : ''})</span>
                    <span className="timeline-amount">{formatCurrency(results.jaarlijkseSchenking)}</span>
                  </div>
                ))}
                <div className="timeline-item" style={{color: '#666', fontStyle: 'italic'}}>
                  <span className="timeline-year">...</span>
                  <span className="timeline-desc">Herhaal tot jaar {jarenSchenken}</span>
                  <span className="timeline-amount"></span>
                </div>
                <div className="timeline-item" style={{background: '#f0faf9', margin: '8px -24px -24px', padding: '12px 24px', borderRadius: '0 0 12px 12px'}}>
                  <span className="timeline-year" style={{fontWeight: '700'}}>Totaal</span>
                  <span className="timeline-desc" style={{fontWeight: '600'}}>Geschonken over {jarenSchenken} jaar</span>
                  <span className="timeline-amount" style={{color: '#1AABA6', fontSize: '16px'}}>{formatCurrency(results.totaalGeschonken)}</span>
                </div>
              </div>

              <div className="tips-box">
                <div className="tips-title">ðŸ’¡ Tips voor slim schenken</div>
                <ul className="tips-list">
                  <li>Schenk onder <strong>uitsluitingsclausule</strong> (beschermt tegen schoonkinderen bij scheiding)</li>
                  <li>Overweeg <strong>"schenking op papier"</strong> als je liquiditeit wilt behouden (schuldigerkenning)</li>
                  {!gebruikEenmalig && (
                    <li>Benut de <strong>eenmalige verhoogde vrijstelling</strong> van {formatCurrency(PARAMS.eenmaligVerhoogdKind)} (kinderen 18-40)</li>
                  )}
                  <li>Combineer schenken met <strong>testament-aanpassing</strong> (langstlevende regeling)</li>
                  <li>Let op: schenken binnen 180 dagen voor overlijden telt als erfenis</li>
                </ul>
              </div>

              {!showLeadForm && !submitted && (
                <div className="card cta-card">
                  <div className="cta-icon">ðŸ“Š</div>
                  <h3 className="cta-title">Wil je een persoonlijk estate planning rapport?</h3>
                  <p className="cta-text">Ontvang een uitgebreid rapport met een optimaal schenkingsplan en concrete aanbevelingen</p>
                  <button className="btn" style={{width: 'auto', padding: '14px 32px'}} onClick={() => setShowLeadForm(true)}>Ontvang gratis rapport â†’</button>
                </div>
              )}

              {showLeadForm && !submitted && (
                <div className="card cta-card" style={{textAlign: 'left'}}>
                  <h3 className="cta-title" style={{textAlign: 'left'}}>Waar mogen we je rapport naartoe sturen?</h3>
                  <form onSubmit={handleSubmit}>
                    <input 
                      type="text" 
                      className="form-input" 
                      placeholder="Je naam" 
                      value={naam} 
                      onChange={(e) => setNaam(e.target.value)} 
                      required 
                    />
                    <input 
                      type="email" 
                      className="form-input" 
                      placeholder="je@email.nl" 
                      value={email} 
                      onChange={(e) => setEmail(e.target.value)} 
                      required 
                    />
                    {error && <p className="error-msg">{error}</p>}
                    <button type="submit" className="btn" disabled={loading}>
                      {loading ? <><span className="loading"></span>Versturen...</> : 'Verstuur mijn rapport â†’'}
                    </button>
                  </form>
                  <p className="form-hint">We respecteren je privacy. Geen spam, alleen waardevolle inzichten.</p>
                </div>
              )}

              {submitted && (
                <div className="card success-card">
                  <div className="success-icon">âœ…</div>
                  <h3 className="success-title">Je rapport is onderweg!</h3>
                  <p style={{color: '#666', marginBottom: '16px'}}>Check je inbox voor je persoonlijke estate planning rapport.</p>
                  <button className="btn" style={{width: 'auto', padding: '12px 24px', background: 'transparent', color: '#1AABA6', border: '2px solid #1AABA6'}} onClick={resetForm}>
                    Nieuwe berekening maken
                  </button>
                </div>
              )}

              <p className="disclaimer">
                Deze berekening is indicatief en gebaseerd op tarieven 2026. 
                Schenkingsvrijstelling kind: {formatCurrency(PARAMS.vrijstellingKind)}/jaar. 
                Eenmalig verhoogd (18-40): {formatCurrency(PARAMS.eenmaligVerhoogdKind)}.
                Erfvrijstelling kind: {formatCurrency(PARAMS.erfVrijstellingKind)}. 
                Tarief: 10% (t/m {formatCurrency(PARAMS.grensSchijf1)}), 20% (daarboven).
                <br/>Â© 2026 Finaforte Financial Planning | www.finaforte.nl
              </p>
            </>
          )}
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
